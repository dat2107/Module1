<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        input {
            width: 50px;
            height: 50px;
            font-size: 60px;
            text-align: center;
        }

        table {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>

<body>
    <table>
        <tr>
            <td><input type="text" id="00"></td>
            <td><input type="text" id="01"></td>
            <td><input type="text" id="02"></td>
            <td><input type="text" id="03"></td>
            <td><input type="text" id="04"></td>
        </tr>
        <tr>
            <td><input type="text" id="10"></td>
            <td><input type="text" id="11"></td>
            <td><input type="text" id="12"></td>
            <td><input type="text" id="13"></td>
            <td><input type="text" id="14"></td>
        </tr>
        <tr>
            <td><input type="text" id="20"></td>
            <td><input type="text" id="21"></td>
            <td><input type="text" id="22"></td>
            <td><input type="text" id="23"></td>
            <td><input type="text" id="24"></td>
        </tr>
        <tr>
            <td><input type="text" id="30"></td>
            <td><input type="text" id="31"></td>
            <td><input type="text" id="32"></td>
            <td><input type="text" id="33"></td>
            <td><input type="text" id="34"></td>
        </tr>
        <tr>
            <td><input type="text" id="40"></td>
            <td><input type="text" id="41"></td>
            <td><input type="text" id="42"></td>
            <td><input type="text" id="43"></td>
            <td><input type="text" id="44"></td>
        </tr>
    </table>
    <script>
        let board = Array.from({ length: 5 }, () => Array(5).fill(null));
        let currentPlayer = "X"; // X là người chơi đầu tiên

        document.querySelectorAll("table input").forEach(input => {
            input.addEventListener("click", () => handleClick(input));
        });

        function handleClick(input) {
            const id = input.id;
            const row = parseInt(id[0]);
            const col = parseInt(id[1]);

            if (board[row][col] !== null) return;

            board[row][col] = currentPlayer;
            input.value = currentPlayer;

            if (checkWin(row, col)) {
                alert(`${currentPlayer} thắng!`);
            }

            currentPlayer = currentPlayer === "X" ? "O" : "X";
        }

        function checkWin(r, c) {
            const val = board[r][c];
            const directions = [
                [0, 1], [1, 0], [1, 1], [1, -1]
            ];

            for (const [dx, dy] of directions) {
                let count = 1;

                for (let dir = -1; dir <= 1; dir += 2) {
                    let x = r + dx * dir;
                    let y = c + dy * dir;

                    while (
                        x >= 0 && x < 5 &&
                        y >= 0 && y < 5 &&
                        board[x][y] === val
                    ) {
                        count++;
                        x += dx * dir;
                        y += dy * dir;
                    }
                }

                if (count >= 4) return true;
            }

            return false;
        }
    </script>
</body>

</html>
